import {
  Pipe,
  PipeTransform,
  ÉµbypassSanitizationTrustHtml,
} from '@angular/core';
import { CardSymbol, Symbology } from 'scryfall-sdk';
import { DomSanitizer, SafeHtml } from '@angular/platform-browser';

@Pipe({
  name: 'type',
})
export class Types implements PipeTransform {
  constructor(private _sanitizer: DomSanitizer) {}

  public symbolsToReturn: string = '';
  public symbolsList: CardSymbol[] = [];

  public removeEmptyObjects(array: string[]) {
    return array.filter((obj) => Object.keys(obj).length !== 0);
  }

  public getTypes(value: string) {
    const types: { [x: string]: string } = {
      '`â€”`': '',
      ' // ': '',
      '//': '',
      ' ': '',
      Artifact: 'ğŸ”§',
      Enchantment: 'ğŸ“œ',
      Creature: 'ğŸ‘¤',
      Planeswalker: 'ğŸŒ',
      Instant: 'ğŸš€',
      Sorcery: 'ğŸ”®',
      Land: 'ğŸï¸',
      // ==== Artifacts Types
      Attraction: 'ğŸ’•',
      Blood: 'ğŸ”ª',
      Clue: 'ğŸ•µï¸â€â™‚ï¸',
      Contraption: 'ğŸ› ï¸',
      Equipment: 'ğŸ›¡ï¸',
      Food: 'ğŸ”',
      Fortification: 'ğŸ°',
      Gold: 'ğŸ’°',
      Incubator: 'ğŸ£',
      Key: 'ğŸ”‘',
      Powerstone: 'ğŸ’',
      Treasure: 'ğŸ´â€â˜ ï¸',
      Vehicle: 'ğŸš—',
      //======== Enchantment Types
      Aura: 'âœ¨',
      Cartouche: 'ğŸ“œ',
      Curse: 'ğŸ‘»',
      Rune: 'ğŸ§¿',
      Background: 'ğŸŒ…',
      Class: 'ğŸ“',
      Saga: 'ğŸ“–',
      Shrine: 'â›©ï¸',
      Shard: 'ğŸ’',
      //========= Creature Types / Trybes
      Advisor: 'ğŸ‘¨â€ğŸ«',
      Aetherborn: 'ğŸ§›â€â™‚ï¸',
      Alien: 'ğŸ‘½',
      Ally: 'ğŸ¤',
      Angel: 'ğŸ‘¼',
      Antelope: 'ğŸ¦Œ',
      Ape: 'ğŸ¦',
      Archer: 'ğŸ¹',
      Archon: 'ğŸ‘‘',
      Army: 'ğŸ–ï¸',
      Artificer: 'ğŸ§°',
      Assassin: 'ğŸ—¡ï¸',
      'Assembly-Worker': 'ğŸ‘·â€â™‚ï¸',
      Astartes: 'ğŸº',
      Atog: 'ğŸ–',
      Aurochs: 'ğŸ‚',
      Avatar: 'ğŸ¤–',
      Azra: 'ğŸ§Ÿ',
      Badger: 'ğŸ¦¡',
      Balloon: 'ğŸˆ',
      Barbarian: 'ğŸ—¡ï¸',
      Bard: 'ğŸµ',
      Basilisk: 'ğŸ',
      Bat: 'ğŸ¦‡',
      Bear: 'ğŸ»',
      Beast: 'ğŸº',
      Beeble: 'ğŸ',
      Beholder: 'ğŸ‘ï¸',
      Berserker: 'ğŸ’¥',
      Bird: 'ğŸ¦',
      Blinkmoth: 'ğŸ¦‹',
      Boar: 'ğŸ—',
      Bringer: 'â˜€ï¸',
      Brushwagg: 'ğŸŠ',
      Camarid: 'ğŸ¦',
      Camel: 'ğŸ«',
      Caribou: 'ğŸ¦Œ',
      Carrier: 'ğŸœ',
      Cat: 'ğŸ±',
      Centaur: 'ğŸ´',
      Cephalid: 'ğŸ¦‘',
      Child: 'ğŸ§’',
      Chimera: 'ğŸ¦',
      Citizen: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦',
      Cleric: 'ğŸ™',
      Clown: 'ğŸ¤¡',
      Cockatrice: 'ğŸ”',
      Construct: 'ğŸ¤–',
      Coward: 'ğŸ„',
      Crab: 'ğŸ¦€',
      Crocodile: 'ğŸŠ',
      Ctan: 'ğŸ’€',
      Custodes: 'ğŸ—¡ï¸',
      Cyclops: 'ğŸ‘ï¸',
      Dauthi: 'ğŸ˜ˆ',
      DemigoD: 'ğŸ¦¸',
      Demon: 'ğŸ‘¿',
      Deserter: 'ğŸƒâ€â™‚ï¸',
      Devil: 'ğŸ‘¹',
      Dinosaur: 'ğŸ¦•',
      Djinn: 'ğŸ§',
      Dog: 'ğŸ¶',
      Dragon: 'ğŸ²',
      Drake: 'ğŸ‰',
      Dreadnought: 'ğŸš¢',
      Drone: 'ğŸš',
      Druid: 'ğŸŒ³',
      Dryad: 'ğŸ§šâ€â™€ï¸',
      Dwarf: 'ğŸ§â€â™‚ï¸',
      Efreet: 'ğŸ˜ˆ',
      Egg: 'ğŸ¥š',
      Elder: 'ğŸ‘´ğŸ»',
      Eldrazi: 'ğŸ‘½',
      Elemental: 'ğŸŒªï¸',
      Elephant: 'ğŸ˜',
      Elf: 'ğŸ§',
      Elk: 'ğŸ¦Œ',
      Employee: 'ğŸ‘¨â€ğŸ’¼',
      Eye: 'ğŸ‘ï¸',
      Faerie: 'ğŸ§š',
      Ferret: 'ğŸ¹',
      Fish: 'ğŸŸ',
      Flagbearer: 'ğŸš©',
      Fox: 'ğŸ¦Š',
      Fractal: 'ğŸŒ€',
      Frog: 'ğŸ¸',
      Fungus: 'ğŸ„',
      Gamer: 'ğŸ®',
      Gargoyle: 'ğŸ¦‡',
      Germ: 'ğŸ¦ ',
      Giant: 'ğŸ—¿',
      Gith: 'ğŸ—¡ï¸',
      Gnoll: 'ğŸº',
      Gnome: 'ğŸ§â€â™‚ï¸',
      Goat: 'ğŸ',
      Goblin: 'ğŸ‘¹',
      God: 'ğŸ™',
      Golem: 'ğŸ¤–',
      Gorgon: 'ğŸ',
      Graveborn: 'ğŸ’€',
      Gremlin: 'ğŸ¤',
      Griffin: 'ğŸ¦…',
      Guest: 'ğŸ§³',
      Hag: 'ğŸ§™',
      Halfling: 'ğŸº',
      Hamster: 'ğŸ¹',
      Harpy: 'ğŸ¦…',
      Hellion: 'ğŸ”¥',
      Hippo: 'ğŸ¦›',
      Hippogriff: 'ğŸ¦„',
      Homarid: 'ğŸ¦',
      Homunculus: 'ğŸ§‘â€ğŸ”¬',
      Horror: 'ğŸ‘»',
      Horse: 'ğŸ',
      Human: 'ğŸ‘¤',
      Hydra: 'ğŸ²',
      Hyena: 'ğŸ†',
      Illusion: 'ğŸŒŒ',
      Imp: 'ğŸ‘¿',
      Incarnation: 'ğŸ™',
      Inkling: 'ğŸ¦‘',
      Inquisitor: 'ğŸ”',
      Insect: 'ğŸ',
      Jackal: 'ğŸ•',
      Jellyfish: 'ğŸ',
      Juggernaut: 'ğŸš‚',
      Kavu: 'ğŸ¦–',
      Kirin: 'ğŸ¦Œ',
      Kithkin: 'ğŸ§â€â™€ï¸',
      Knight: 'ğŸ—¡ï¸',
      Kobold: 'ğŸ‰',
      Kor: 'ğŸ—¡ï¸',
      Kraken: 'ğŸ¦‘',
      Lamia: 'ğŸ',
      Lammasu: 'ğŸ¦',
      Leech: 'ğŸ›',
      Leviathan: 'ğŸ‹',
      Lhurgoyf: 'ğŸ¦–',
      Licid: 'ğŸ¦Ÿ',
      Lizard: 'ğŸ¦',
      Manticore: 'ğŸ¦',
      Masticore: 'ğŸ¦”',
      Mercenary: 'ğŸ’°',
      Merfolk: 'ğŸ§œ',
      Metathran: 'ğŸ¤–',
      Minion: 'ğŸ‘¥',
      Minotaur: 'ğŸ‚',
      Mite: 'ğŸ¦Ÿ',
      Mole: 'ğŸ¦”',
      Monger: 'ğŸ¤',
      Mongoose: 'ğŸ­',
      Monk: 'ğŸ™',
      Monkey: 'ğŸµ',
      Moonfolk: 'ğŸŒ•',
      Mouse: 'ğŸ',
      Mutant: 'ğŸ§¬',
      Myr: 'ğŸ¤–',
      Mystic: 'ğŸ”®',
      Naga: 'ğŸ',
      Nautilus: 'ğŸš',
      Necron: 'ğŸ’€',
      Nephilim: 'ğŸ‘¹',
      Nightmare: 'ğŸ‘»',
      Nightstalker: 'ğŸŒ™',
      Ninja: 'ğŸ¥·',
      Noble: 'ğŸ‘¸',
      Noggle: 'ğŸ™ƒ',
      Nomad: 'ğŸœï¸',
      Nymph: 'ğŸ‘©â€ğŸ¦°',
      Octopus: 'ğŸ™',
      Ogre: 'ğŸ‘¹',
      Ooze: 'ğŸ¦ ',
      Orb: 'ğŸ”´',
      Orc: 'ğŸ‘º',
      Orgg: 'ğŸ·',
      Otter: 'ğŸ¦¦',
      Ouphe: 'ğŸ§šâ€â™‚ï¸',
      Ox: 'ğŸ‚',
      Oyster: 'ğŸ¦ª',
      Pangolin: 'ğŸ¾',
      Peasant: 'ğŸ‘¨â€ğŸŒ¾',
      Pegasus: 'ğŸ¦„',
      Pentavite: 'ğŸ”º',
      Performer: 'ğŸ­',
      Pest: 'ğŸœ',
      Phelddagrif: 'ğŸ¦›',
      Phoenix: 'ğŸ”¥',
      Phyrexian: 'ğŸ¤–ğŸ¦ ',
      Pilot: 'âœˆï¸',
      Pincher: 'ğŸ¦€',
      Pirate: 'â˜ ï¸',
      Plant: 'ğŸŒ±',
      Praetor: 'ğŸ—¡ï¸',
      Primarch: 'ğŸ–ï¸',
      Prism: 'ğŸ”¶',
      Processor: 'ğŸ¤–',
      Raccoon: 'ğŸ¦',
      Rabbit: 'ğŸ°',
      Ranger: 'ğŸ¹',
      Rat: 'ğŸ€',
      Rebel: 'ğŸ‘Š',
      Reflection: 'ğŸ‘¤',
      Rhino: 'ğŸ¦',
      Rigger: 'ğŸ› ï¸',
      Robot: 'ğŸ¤–',
      Rogue: 'ğŸ—¡ï¸',
      Sable: 'ğŸ¦¨',
      Salamander: 'ğŸ¦',
      Samurai: 'ğŸ—¡ï¸',
      Sand: 'ğŸœï¸',
      Saproling: 'ğŸŒ±',
      Satyr: 'ğŸ­',
      Scarecrow: 'ğŸŒ½',
      Scion: 'ğŸ²',
      Scorpion: 'ğŸ¦‚',
      Scout: 'ğŸ”',
      Sculpture: 'ğŸ—¿',
      Serf: 'ğŸ‘·',
      Serpent: 'ğŸ',
      Servo: 'ğŸ¤–',
      Shade: 'ğŸŒ‘',
      Shaman: 'ğŸ§™',
      Shapeshifter: 'ğŸ¦„',
      Shark: 'ğŸ¦ˆ',
      Sheep: 'ğŸ‘',
      Siren: 'ğŸ§œâ€â™€ï¸',
      Skeleton: 'ğŸ’€',
      Slith: 'ğŸ',
      Sliver: 'ğŸ',
      Slug: 'ğŸŒ',
      Snake: 'ğŸ',
      Soldier: 'ğŸ‘¨â€âœˆï¸',
      Soltari: 'ğŸƒâ€â™‚ï¸',
      Spawn: 'ğŸ¥š',
      Specter: 'ğŸ‘»',
      Spellshaper: 'ğŸ”®',
      Sphinx: 'ğŸ¦',
      Spider: 'ğŸ•·ï¸',
      Spike: 'ğŸŒµ',
      Spirit: 'ğŸ‘»',
      Splinter: 'ğŸŒ³',
      Sponge: 'ğŸ§½',
      Squid: 'ğŸ¦‘',
      Squirrel: 'ğŸ¿ï¸',
      Starfish: 'ğŸŒŸ',
      Surrakar: 'ğŸŒŠ',
      Survivor: 'ğŸ§Ÿ',
      Tentacle: 'ğŸ™',
      Tetravite: 'ğŸ”º',
      Thalakos: 'ğŸ‘½',
      Thopter: 'ğŸš',
      Thrull: 'ğŸ¤¢',
      Tiefling: 'ğŸ‘¹',
      Treefolk: 'ğŸŒ³',
      Trilobite: 'ğŸš',
      Triskelavite: 'ğŸŒ€',
      Troll: 'ğŸ‘¹',
      Turtle: 'ğŸ¢',
      Tyranid: 'ğŸ‘¾',
      Unicorn: 'ğŸ¦„',
      Vampire: 'ğŸ§›',
      Vedalken: 'ğŸ§',
      Viashino: 'ğŸ¦',
      Volver: 'ğŸ¦•',
      Wall: 'ğŸ§±',
      Walrus: 'ğŸ¦­',
      Warlock: 'ğŸ§™â€â™‚ï¸',
      Warrior: 'ğŸ—¡ï¸',
      Weird: 'ğŸ‘½',
      Werewolf: 'ğŸº',
      Whale: 'ğŸ‹',
      Wizard: 'ğŸ§™â€â™‚ï¸',
      Wolf: 'ğŸº',
      Wolverine: 'ğŸ¦¡',
      Wombat: 'ğŸ»',
      Worm: 'ğŸ›',
      Wraith: 'ğŸ‘»',
      Wurm: 'ğŸ‰',
      Yeti: 'â„ï¸',
      Zombie: 'ğŸ§Ÿ',
      Zubera: 'ğŸ•¯ï¸',
      //=====Planeswalker Types
      Ajani: 'ğŸ˜º',
      Aminatou: 'ğŸ”®',
      Angrath: 'ğŸ”¥',
      Arlinn: 'ğŸº',
      Ashiok: 'ğŸ’¤',
      Bahamut: 'ğŸ²',
      Basri: 'ğŸ›¡ï¸',
      Bolas: 'ğŸ‰',
      Calix: 'ğŸº',
      Chandra: 'ğŸ”¥',
      Comet: 'â˜„ï¸',
      Dack: 'ğŸƒ',
      Dakkon: 'âš”ï¸',
      Daretti: 'ğŸ› ï¸',
      Davriel: 'ğŸ“š',
      Dihada: 'ğŸ­',
      Domri: 'ğŸ»',
      Dovin: 'ğŸ‘”',
      Ellywick: 'ğŸ§',
      Elminster: 'ğŸ§™',
      Elspeth: 'âš”ï¸',
      Estrid: 'ğŸŒ€',
      Freyalise: 'ğŸƒ',
      Garruk: 'ğŸº',
      Gideon: 'ğŸ›¡ï¸',
      Grist: 'ğŸªµ',
      Huatli: 'ğŸŠ',
      Jace: 'ğŸ§ ',
      Jaya: 'ğŸ”¥',
      Jared: 'ğŸ‘‘',
      Jeska: 'ğŸ”¥',
      Kaito: 'ğŸ',
      Karn: 'ğŸ¤–',
      Kasmina: 'ğŸ“',
      Kaya: 'ğŸ—¡ï¸',
      Kiora: 'ğŸŒŠ',
      Koth: 'â›°ï¸',
      Liliana: 'ğŸ’€',
      Lolth: 'ğŸ•¸ï¸',
      Lukka: 'ğŸ¯',
      Minsc: 'âš”ï¸',
      Mordenkainen: 'ğŸ§™',
      Nahiri: 'âš’ï¸',
      Narset: 'ğŸ“œ',
      Niko: 'ğŸ¹',
      Nissa: 'ğŸŒ³',
      Nixilis: 'ğŸ´',
      Oko: 'ğŸ¦Œ',
      Ral: 'âš¡',
      Rowan: 'ğŸ—¡ï¸',
      Saheeli: 'ğŸ› ï¸',
      Samut: 'ğŸœï¸',
      Sarkhan: 'ğŸ²',
      Serra: 'ğŸ‘¼',
      Sivitri: 'ğŸ²',
      Sorin: 'ğŸ©¸',
      Szat: 'ğŸ”®',
      Tamiyo: 'ğŸ“–',
      Tasha: 'ğŸ§™',
      Teferi: 'â³',
      Teyo: 'ğŸ›¡ï¸',
      Tezzeret: 'ğŸ› ï¸',
      Tibalt: 'ğŸ”¥',
      Tyvar: 'ğŸª“',
      Ugin: 'ğŸ²',
      Urza: 'ğŸ¤–',
      Venser: 'ğŸŒ€',
      Vivien: 'ğŸ¹',
      Vraska: 'ğŸ',
      Will: 'ğŸŒŒ',
      Windgrace: 'ğŸŒ¿',
      Wrenn: 'ğŸŒ³',
      Xenagos: 'ğŸ¦',
      Yanggu: 'ğŸ‰',
      Yanling: 'ğŸŒªï¸',
      Zariel: 'ğŸ‘¿',
      // ===== Creatures Class Types
      Brainiac: 'ğŸ§ ',
      Bureaucrat: 'ğŸ’¼',
      Designer: 'ğŸ¨',
      Fighter: 'ğŸ¥Š',
      Grandchild: 'ğŸ‘¶ğŸ¼',
      Hatificer: 'ğŸ‘’',
      Head: 'ğŸ’†â€â™‚ï¸',
      Hero: 'ğŸ¦¸',
      LadyofProperEtiquette: 'ğŸ‘¸',
      Lord: 'ğŸ‘‘',
      Mime: 'ğŸ¤¡',
      Paratrooper: 'ğŸª‚',
      Scientist: 'ğŸ‘¨â€ğŸ”¬',
      Spy: 'ğŸ•µï¸â€â™€ï¸',
      Townsfolk: 'ğŸ‘¨â€ğŸŒ¾',
      Villain: 'ğŸ¦¹â€â™‚ï¸',
      Waiter: 'ğŸ½ï¸',
      Wrestler: 'ğŸ¤¼',
      Alchemist: 'ğŸ§ª',
      Bodyguard: 'ğŸ’ª',
      Guardian: 'ğŸ›¡ï¸',
      Mage: 'ğŸ§™',
      Tactician: 'ğŸ–ï¸',
      Witch: 'ğŸ§™â€â™€ï¸',
      //====== Supertypes
      Artifacts: 'ğŸ›¡ï¸',
      Creatures: 'ğŸ²',
      Enchantments: 'ğŸŒŸ',
      Instants: 'âš¡',
      Lands: 'ğŸï¸',
      Planeswalkers: 'ğŸ§™',
      Sorceries: 'ğŸ”®',
      Tribals: 'ğŸ¹',
      Dungeons: 'ğŸ°',
      Battles: 'âš”ï¸',
      Planes: 'âœˆï¸',
      Phenomena: 'ğŸŒ€',
      Vanguard: 'ğŸ›¡ï¸ğŸ—¡ï¸',
      Scheme: 'ğŸ¤«',
      Conspiracies: 'ğŸ•µï¸â€â™‚ï¸',
      Conspiracy: 'ğŸ•µï¸â€â™‚ï¸',

      //=== Rarity
      Legendary: 'ğŸ‘‘',
      Token: 'ğŸ”¶',
      //====Missed Types:
      World: 'ğŸŒ',
      Plains: 'ğŸŒ¾',
      Forest: 'ğŸŒ²',
      Island: 'ğŸï¸',
      Swamp: 'ğŸŒ«ï¸',
      Mountain: 'â›°ï¸',
      Trap: 'ğŸª¤',
    };
    return types[value];
  }

  async transform(
    value: string | null | undefined,
    event?: any
  ): Promise<SafeHtml> {
    if (value) {
      let stringValues = value.split(/\b/g);
      stringValues = this.removeEmptyObjects(stringValues);
      stringValues.forEach((element) => {
        if (element !== ' â€” ') {
          this.symbolsToReturn =
            this.symbolsToReturn + ' ' + this.getTypes(element) + ' ';
        }
      });
    }
    return this._sanitizer.bypassSecurityTrustHtml(this.symbolsToReturn);
  }
}
